<!DOCTYPE html>

<html lang="en">

<head>
  <title>Contact Messages | emailjs</title>
  <link rel="stylesheet" href="css/style.css" />

  <!-- ---------------js for mailing system ----------- -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>

  <script type="text/javascript">
    (function () {
      //your emailjs config informations
      emailjs.init("_xY-veSL9m-IAnKUI");
    })();
  </script>
  <!-- -------------------------------------------- -->

  <script type="text/javascript">
    function sendmail() {
      let fullName = document.getElementById("name").value;
      let userEmail = document.getElementById("email").value;
      let subject = document.getElementById("subject").value;
      let userMessage = document.getElementById("message").value;

      // Check if any of the input fields are empty
      if (fullName === "" || userEmail === "" || subject === "" || userMessage === "") {
        // Display an alert if any of the input fields are empty
        window.alert("Please fill out all the required fields!");
      } else {
        // Check if the email address is in the correct format
        let emailRegex = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        if (!emailRegex.test(userEmail)) {
          // Display an alert if the email address is not in the correct format
          window.alert("Please enter a valid email address!");
        }
        // Display an alert if the email address is not ending with @gmail.com
        else if (userEmail.substring(userEmail.length - 10) !== "@gmail.com") {
          window.alert("Please enter a valid email address ending with @gmail.com!");
        }


        else {
          var contactParams = {
            from_name: fullName,
            from_email: userEmail,
            subject: subject,
            message: userMessage,
          };
          emailjs
            //your emailjs config informations
            .send("service_2uupt2d", "template_jrg4zki", contactParams)

            .then(function (res) {
              window.alert("Message sent successfully...ðŸ¥°");
              //it helps to clear the input field after prompt and press ok
              document.getElementById("message").value = "";
              document.getElementById("name").value = "";
              document.getElementById("email").value = "";
              document.getElementById("subject").value = "";
            });
        }
      }
    }
  </script>
  <!-- ---------------end js for mailing system ----------- -->

</head>

<body>
  <!-- contact section start -->
  <section class="contact" id="contact" style="
        background-image: linear-gradient(
            0deg,
            rgb(255, 255, 255) 0%,
            rgb(255, 255, 255) 67.21%,
            rgba(255, 255, 255, 0) 100%
          ),
          linear-gradient(
            -103.35deg,
            rgb(215, 252, 254) 3.73%,
            rgb(251, 213, 250) 56.7%,
            rgb(254, 224, 213) 100.35%
          );
      ">
    <div class="max-width" style="margin-top: 60px">
      <h2 class="title" style="font-family: Futura, 'Trebuchet MS', Arial, sans-serif">
        Contact Us
      </h2>
      <div class="contact-content">
        <div class="column right">
          <div class="text">
            Well, you may not like the design of this contact form, but it is real, and it works without a backend or
            server. Please set up your EmailJS credentials before using this form on your static website. If not, I'll
            receive an email from this form. I used JavaScript code to fully function the mailing system, including
            email validation and empty field validation. The technology used in this form is EmailJS. Fast delivery,
            support for reply emails. </span>
          </div>
          <form name="myForm">
            <div class="fields">
              <div class="field name">
                <input type="text" id="name" name="fullname" placeholder="Full Name" />
              </div>
              <div class="field email">
                <input type="email" id="email" name="email" placeholder="E-mail" required />
              </div>
            </div>
            <div class="field">
              <input type="text" name="subject" id="subject" placeholder="Subject" />
            </div>
            <div class="field textarea">
              <textarea id="message" cols="30" name="textarea" rows="10"
                placeholder="Let's discuss briefly..."></textarea>
            </div>
            <div class="button-area">
              <div class="button-n" onclick="sendmail()">
                <div class="svg-wrapper-1">
                  <div class="svg-wrapper">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                      <path fill="none" d="M0 0h24v24H0z"></path>
                      <path fill="currentColor"
                        d="M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685z">
                      </path>
                    </svg>
                  </div>
                </div>
                <span>Send</span>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</body>

</html>